<!DOCTYPE html>
<head>
    <title>Name</title>
</head>
    <body>
        <form action="email.html" onsubmit="return unameValidation()">
            <table>
                <tr><td><label for="name">Name</label></td></tr>
                <tr> <td><input type="text" id="name" name="name" onblur="checkUsername()">
                <p id="uError"></p>
                </td></tr>
                <tr><td><input type="submit"></td></tr>
            </table>
                      
        </form>
        <script>
            let username = "";
            
            function checkUsername()
            {
                username = document.getElementById('name').value;
                
                if(username === ""){
                    uError.innerHTML = "please enter your name first!"
                    uError.style.color = 'red'; 
                    return false;    
                }

            let firstCode = username.charCodeAt(0);
            let firstIsUpper = (firstCode >= 65 && firstCode <= 90);
            let firstIsLower = (firstCode >= 97 && firstCode <= 122);

                 if (!(firstIsUpper || firstIsLower)) {
                    uError.innerHTML = "Name must start with a letter!";
                    uError.style.color = 'red';
                    return false;
            }
                
                 if(username.length<2) 
                {
                     uError.innerHTML = "name must contain at least 2 letter!"
                     uError.style.color = 'red';
                     return false;
                }

                for (let i = 0; i < username.length; i++) {

                    let code = username.charCodeAt(i);

                    let isUpperCase = (code >= 65 && code <= 90);
                    let isLowerCase = (code >= 97 && code <= 122);
                    let isDot = (code === 46);
                    let isDash = (code === 45);

                if (!(isUpperCase || isLowerCase || isDot || isDash)) {
                    uError.innerHTML = "Name can contain only letters, dot (.), or dash (-)!";
                    uError.style.color = 'red';
                    return false;
                }
            }
               
                
                    uError.innerHTML = "";
                    return true;
                
            }

            function unameValidation()
            {
                if(checkUsername())
            {
                alert("Valid name");
                return true;
            }
            else{
                alert("Invalid name, try again");
                return false;
            }
            }
            
        </script>
    </body>
</html>